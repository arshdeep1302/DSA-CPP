#include <iostream>
#include <vector>
using namespace std;

/*
  Function: generateSubsets
  Purpose : Generates all subsets of the array using recursion
  Params  :
    - index : current position in the array
    - arr   : input array (read-only)
    - curr  : current subset being formed
    - res   : stores all generated subsets
*/
void generateSubsets(int index,
                     const vector<int>& arr,
                     vector<int>& curr,
                     vector<vector<int>>& res) {
    // Base case: all elements processed
    if (index == arr.size()) {
        res.push_back(curr);   // store a COPY of current subset
        return;
    }

    // Case 1: Exclude current element
    generateSubsets(index + 1, arr, curr, res);

    // Case 2: Include current element
    curr.push_back(arr[index]);
    generateSubsets(index + 1, arr, curr, res);

    // Backtrack
    curr.pop_back();
}

/*
  Wrapper function
*/
vector<vector<int>> getAllSubsets(const vector<int>& arr) {
    vector<vector<int>> res;
    vector<int> curr;

    generateSubsets(0, arr, curr, res);
    return res;
}

int main() {
    vector<int> arr = {1, 2, 3};

    vector<vector<int>> subsets = getAllSubsets(arr);

    // Print subsets
    for (const auto& subset : subsets) {
        cout << "{ ";
        for (int x : subset) cout << x << " ";
        cout << "}\n";
    }

    return 0;
}
